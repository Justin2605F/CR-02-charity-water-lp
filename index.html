<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fill the Tank! — charity: water</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <main class="screen">
    <section class="scene">

      <!-- Background bands (non-clickable) -->
      <div class="bands" aria-hidden="true">
        <div class="band band--sky"></div>
        <div class="band band--ocean"></div>
        <div class="band band--waves"></div>
        <div class="band band--sand"></div>
      </div>

      <!-- Sun -->
      <div class="sun" aria-hidden="true"></div>

      <!-- Palm images (optional) -->
      <img class="palm palm--left" src="img/palm-left.png" alt="" aria-hidden="true" />
      <img class="palm palm--right" src="img/palm-right.png" alt="" aria-hidden="true" />

      <!-- Topbar -->
      <header class="topbar">
        <div class="brand">
          <img class="logo" src="img/cw_logo.png" alt="charity: water logo" />
          <div class="brand__text">charity: water</div>
        </div>

        <div class="top-actions">
          <button class="chip chip--outline" id="btnHow" type="button">How to Play</button>
          <a class="chip chip--yellow" href="https://www.charitywater.org" target="_blank" rel="noopener">Give</a>
        </div>
      </header>

      <!-- Title -->
      <div class="title-wrap">
        <h1 class="title">Fill the<br>Tank!</h1>
        <p class="subtitle">Pump clean water before time runs out.</p>
      </div>

      <!-- CTA -->
      <div class="cta-wrap">
        <!-- THIS is what makes Start work -->
        <a class="start" href="./game.html">START</a>
      </div>

      <!-- Bottom bar -->
      <footer class="bottombar">
        <a class="learn" href="https://www.charitywater.org" target="_blank" rel="noopener">
          learn more at <span>charitywater.org</span>
        </a>

        <div class="score">
          <div class="score__label">High score</div>
          <div class="score__value"><span id="hiScore">0</span> <span class="muted">liters</span></div>
        </div>
      </footer>

      <!-- How to Play Modal -->
      <div class="modal" id="modal" aria-hidden="true">
        <div class="modal__card" role="dialog" aria-modal="true" aria-label="How to Play">
          <h2>How to Play</h2>
          <ol>
            <li>Press <b>START</b> to begin the 30-second round.</li>
            <li>Only pump when the water is <b>blue</b> (clean).</li>
            <li>If the water turns <b>brown</b> (dirty), don’t pump.</li>
            <li>Fill the tank to score as many liters as you can.</li>
          </ol>
          <button class="chip chip--outline" id="btnClose" type="button">Close</button>
        </div>
      </div>

    </section>
  </main>

  <script>
    // Modal logic
    const modal = document.getElementById("modal");
    const btnHow = document.getElementById("btnHow");
    const btnClose = document.getElementById("btnClose");

    btnHow.addEventListener("click", () => {
      modal.classList.add("modal--open");
      modal.setAttribute("aria-hidden", "false");
    });

    btnClose.addEventListener("click", () => {
      modal.classList.remove("modal--open");
      modal.setAttribute("aria-hidden", "true");
    });

    // High score (optional)
    const hiScoreEl = document.getElementById("hiScore");
    const saved = localStorage.getItem("fill_tank_hi");
    if (saved) hiScoreEl.textContent = saved;
  </script>
</body>
</html>